<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Raphael Sonabend" />


<title>Survival Analysis in mlr3proba</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Survival Analysis in mlr3proba</h1>
<h4 class="author">Raphael Sonabend</h4>


<div id="TOC">
<ul>
<li><a href="#a-very-quick-introduction-to-survival-analysis">A very quick introduction to survival analysis</a></li>
<li><a href="#survival-tasks">Survival Tasks</a></li>
<li><a href="#train-and-predict">Train and Predict</a></li>
<li><a href="#evaluate---crank-lp-and-distr">Evaluate - crank, lp, and distr</a><ul>
<li><a href="#probability-distributions-with-distr6">Probability distributions with distr6</a></li>
</ul></li>
<li><a href="#composition">Composition</a><ul>
<li><a href="#pipeopdistrcompositor">PipeOpDistrCompositor</a></li>
<li><a href="#pipeopcrankcompositor">PipeOpCrankCompositor</a></li>
</ul></li>
<li><a href="#all-together-now">All Together Now</a></li>
</ul>
</div>

<p>This vignette is an introduction to performing survival analysis in <strong>mlr3proba</strong>.</p>
<div id="a-very-quick-introduction-to-survival-analysis" class="section level2">
<h2>A very quick introduction to survival analysis</h2>
<p>Survival analysis is a sub-field of supervised machine learning in which the aim is to predict the survival distribution of a given individual. Arguably the main feature of survival analysis is that unlike classification and regression, learners are trained on two features: 1. the time until the event takes place, 2. the event type: either censoring or death. At a particular time-point, an individual is either: alive, dead, or censored. Censoring occurs if it is unknown if an individual is alive or dead. For example, say we are interested in patients in hospital and every day it is recorded if they are alive or dead, then after a patient leaves it is unknown if they are alive or dead, hence they are censored.</p>
<p>In the case that there is no censoring, but a predicted probability distribution is still the goal, then probabilistic regression learners are advised instead.</p>
</div>
<div id="survival-tasks" class="section level2">
<h2>Survival Tasks</h2>
<p>Unlike <code>TaskClassif</code> and <code>TaskRegr</code> which have a single ‘target’ argument, <code>TaskSurv</code> mimics the <code>survival::Surv</code> object and has three-four target arguments (dependent on censoring type)</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">library</span>(mlr3proba); <span class="kw">library</span>(mlr3); <span class="kw">library</span>(survival)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"></a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="co"># type = &quot;right&quot; is default</span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"></a>
<a class="sourceLine" id="cb1-5" data-line-number="5">TaskSurv<span class="op">$</span><span class="kw">new</span>(<span class="dt">id =</span> <span class="st">&quot;right_censored&quot;</span>, <span class="dt">backend =</span> survival<span class="op">::</span>rats,</a>
<a class="sourceLine" id="cb1-6" data-line-number="6">             <span class="dt">time =</span> <span class="st">&quot;time&quot;</span>, <span class="dt">event =</span> <span class="st">&quot;status&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;right&quot;</span>)</a>
<a class="sourceLine" id="cb1-7" data-line-number="7"><span class="co">#&gt; &lt;TaskSurv:right_censored&gt; (300 x 5)</span></a>
<a class="sourceLine" id="cb1-8" data-line-number="8"><span class="co">#&gt; * Target: time, status</span></a>
<a class="sourceLine" id="cb1-9" data-line-number="9"><span class="co">#&gt; * Properties: -</span></a>
<a class="sourceLine" id="cb1-10" data-line-number="10"><span class="co">#&gt; * Features (3):</span></a>
<a class="sourceLine" id="cb1-11" data-line-number="11"><span class="co">#&gt;   - int (1): litter</span></a>
<a class="sourceLine" id="cb1-12" data-line-number="12"><span class="co">#&gt;   - dbl (1): rx</span></a>
<a class="sourceLine" id="cb1-13" data-line-number="13"><span class="co">#&gt;   - chr (1): sex</span></a>
<a class="sourceLine" id="cb1-14" data-line-number="14"></a>
<a class="sourceLine" id="cb1-15" data-line-number="15">task =<span class="st"> </span>TaskSurv<span class="op">$</span><span class="kw">new</span>(<span class="dt">id =</span> <span class="st">&quot;interval_censored&quot;</span>, <span class="dt">backend =</span> survival<span class="op">::</span>bladder2[,<span class="op">-</span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">7</span>)],</a>
<a class="sourceLine" id="cb1-16" data-line-number="16">                    <span class="dt">time =</span> <span class="st">&quot;start&quot;</span>, <span class="dt">time2 =</span> <span class="st">&quot;stop&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;interval2&quot;</span>)</a>
<a class="sourceLine" id="cb1-17" data-line-number="17">task</a>
<a class="sourceLine" id="cb1-18" data-line-number="18"><span class="co">#&gt; &lt;TaskSurv:interval_censored&gt; (178 x 6)</span></a>
<a class="sourceLine" id="cb1-19" data-line-number="19"><span class="co">#&gt; * Target: start, stop</span></a>
<a class="sourceLine" id="cb1-20" data-line-number="20"><span class="co">#&gt; * Properties: -</span></a>
<a class="sourceLine" id="cb1-21" data-line-number="21"><span class="co">#&gt; * Features (4):</span></a>
<a class="sourceLine" id="cb1-22" data-line-number="22"><span class="co">#&gt;   - dbl (2): enum, rx</span></a>
<a class="sourceLine" id="cb1-23" data-line-number="23"><span class="co">#&gt;   - int (2): number, size</span></a>
<a class="sourceLine" id="cb1-24" data-line-number="24">task<span class="op">$</span><span class="kw">truth</span>()[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>]</a>
<a class="sourceLine" id="cb1-25" data-line-number="25"><span class="co">#&gt;  [1] [0,  1] [0,  4] [0,  7] [0, 10] [0,  6] [6, 10] [0, 14] [0, 18] [0,  5]</span></a>
<a class="sourceLine" id="cb1-26" data-line-number="26"><span class="co">#&gt; [10] [5, 18]</span></a></code></pre></div>
</div>
<div id="train-and-predict" class="section level2">
<h2>Train and Predict</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"></a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="co"># create task and learner</span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3"></a>
<a class="sourceLine" id="cb2-4" data-line-number="4">veteran =<span class="st"> </span>mlr3misc<span class="op">::</span><span class="kw">load_dataset</span>(<span class="st">&quot;veteran&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;survival&quot;</span>)</a>
<a class="sourceLine" id="cb2-5" data-line-number="5">task_veteran =<span class="st"> </span>TaskSurv<span class="op">$</span><span class="kw">new</span>(<span class="dt">id =</span> <span class="st">&quot;veteran&quot;</span>, <span class="dt">backend =</span> veteran, <span class="dt">time =</span> <span class="st">&quot;time&quot;</span>, <span class="dt">event =</span> <span class="st">&quot;status&quot;</span>)</a>
<a class="sourceLine" id="cb2-6" data-line-number="6">learner =<span class="st"> </span><span class="kw">lrn</span>(<span class="st">&quot;surv.coxph&quot;</span>)</a>
<a class="sourceLine" id="cb2-7" data-line-number="7"></a>
<a class="sourceLine" id="cb2-8" data-line-number="8"><span class="co"># train/test split </span></a>
<a class="sourceLine" id="cb2-9" data-line-number="9"></a>
<a class="sourceLine" id="cb2-10" data-line-number="10">train_set =<span class="st"> </span><span class="kw">sample</span>(task_veteran<span class="op">$</span>nrow, <span class="fl">0.8</span> <span class="op">*</span><span class="st"> </span>task_veteran<span class="op">$</span>nrow)</a>
<a class="sourceLine" id="cb2-11" data-line-number="11">test_set =<span class="st"> </span><span class="kw">setdiff</span>(<span class="kw">seq_len</span>(task_veteran<span class="op">$</span>nrow), train_set)</a>
<a class="sourceLine" id="cb2-12" data-line-number="12"></a>
<a class="sourceLine" id="cb2-13" data-line-number="13"><span class="co"># fit Cox PH and inspect model</span></a>
<a class="sourceLine" id="cb2-14" data-line-number="14"></a>
<a class="sourceLine" id="cb2-15" data-line-number="15">learner<span class="op">$</span><span class="kw">train</span>(task_veteran, <span class="dt">row_ids =</span> train_set)</a>
<a class="sourceLine" id="cb2-16" data-line-number="16">learner<span class="op">$</span>model</a>
<a class="sourceLine" id="cb2-17" data-line-number="17"><span class="co">#&gt; Call:</span></a>
<a class="sourceLine" id="cb2-18" data-line-number="18"><span class="co">#&gt; survival::coxph(formula = task$formula(), data = task$data(), </span></a>
<a class="sourceLine" id="cb2-19" data-line-number="19"><span class="co">#&gt;     x = TRUE)</span></a>
<a class="sourceLine" id="cb2-20" data-line-number="20"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb2-21" data-line-number="21"><span class="co">#&gt;                        coef exp(coef)  se(coef)      z        p</span></a>
<a class="sourceLine" id="cb2-22" data-line-number="22"><span class="co">#&gt; age               -0.007685  0.992345  0.011751 -0.654 0.513130</span></a>
<a class="sourceLine" id="cb2-23" data-line-number="23"><span class="co">#&gt; celltypesmallcell  0.976473  2.655076  0.317421  3.076 0.002096</span></a>
<a class="sourceLine" id="cb2-24" data-line-number="24"><span class="co">#&gt; celltypeadeno      1.173923  3.234657  0.354138  3.315 0.000917</span></a>
<a class="sourceLine" id="cb2-25" data-line-number="25"><span class="co">#&gt; celltypelarge      0.460501  1.584868  0.334837  1.375 0.169039</span></a>
<a class="sourceLine" id="cb2-26" data-line-number="26"><span class="co">#&gt; diagtime           0.001186  1.001187  0.009848  0.120 0.904155</span></a>
<a class="sourceLine" id="cb2-27" data-line-number="27"><span class="co">#&gt; karno             -0.029826  0.970614  0.006497 -4.590 4.42e-06</span></a>
<a class="sourceLine" id="cb2-28" data-line-number="28"><span class="co">#&gt; prior              0.010400  1.010454  0.026531  0.392 0.695071</span></a>
<a class="sourceLine" id="cb2-29" data-line-number="29"><span class="co">#&gt; trt                0.225305  1.252705  0.247522  0.910 0.362695</span></a>
<a class="sourceLine" id="cb2-30" data-line-number="30"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb2-31" data-line-number="31"><span class="co">#&gt; Likelihood ratio test=47.36  on 8 df, p=1.307e-07</span></a>
<a class="sourceLine" id="cb2-32" data-line-number="32"><span class="co">#&gt; n= 109, number of events= 100</span></a>
<a class="sourceLine" id="cb2-33" data-line-number="33"></a>
<a class="sourceLine" id="cb2-34" data-line-number="34"><span class="co"># make predictions for new data</span></a>
<a class="sourceLine" id="cb2-35" data-line-number="35"></a>
<a class="sourceLine" id="cb2-36" data-line-number="36">prediction =<span class="st"> </span>learner<span class="op">$</span><span class="kw">predict</span>(task_veteran, <span class="dt">row_ids =</span> test_set)</a>
<a class="sourceLine" id="cb2-37" data-line-number="37">prediction</a>
<a class="sourceLine" id="cb2-38" data-line-number="38"><span class="co">#&gt; &lt;PredictionSurv&gt; for 28 observations:</span></a>
<a class="sourceLine" id="cb2-39" data-line-number="39"><span class="co">#&gt;     row_id time status      crank                distr         lp</span></a>
<a class="sourceLine" id="cb2-40" data-line-number="40"><span class="co">#&gt;          3  228   TRUE -0.6936862 &lt;VectorDistribution&gt; -0.6936862</span></a>
<a class="sourceLine" id="cb2-41" data-line-number="41"><span class="co">#&gt;          4  126   TRUE -0.7746938 &lt;VectorDistribution&gt; -0.7746938</span></a>
<a class="sourceLine" id="cb2-42" data-line-number="42"><span class="co">#&gt;          8  110   TRUE -1.4899216 &lt;VectorDistribution&gt; -1.4899216</span></a>
<a class="sourceLine" id="cb2-43" data-line-number="43"><span class="co">#&gt; ---                                                              </span></a>
<a class="sourceLine" id="cb2-44" data-line-number="44"><span class="co">#&gt;        119    7   TRUE  1.1495552 &lt;VectorDistribution&gt;  1.1495552</span></a>
<a class="sourceLine" id="cb2-45" data-line-number="45"><span class="co">#&gt;        128   19   TRUE  0.9844033 &lt;VectorDistribution&gt;  0.9844033</span></a>
<a class="sourceLine" id="cb2-46" data-line-number="46"><span class="co">#&gt;        137   49   TRUE  0.8945899 &lt;VectorDistribution&gt;  0.8945899</span></a></code></pre></div>
</div>
<div id="evaluate---crank-lp-and-distr" class="section level2">
<h2>Evaluate - crank, lp, and distr</h2>
<p>Every <code>PredictionSurv</code> object can predict one or more of:</p>
<ul>
<li><code>lp</code> - Linear predictor calculated as the fitted coefficients multiplied by the test data.</li>
<li><code>distr</code> - Predicted survival distribution, either discrete or continuous. Implemented in <strong><a href="https://CRAN.R-project.org/package=distr6">distr6</a></strong>.</li>
<li><code>crank</code> - Continuous risk ranking.</li>
</ul>
<p><code>lp</code> and <code>crank</code> can be used with measures of discrimination such as the concordance index. Whilst <code>lp</code> is a specific mathematical prediction, <code>crank</code> is any continuous ranking that identifies who is more or less likely to experience the event. So far the only implemented learner that only returns a continuous ranking is <code>surv.svm</code>. If a <code>PredictionSurv</code> returns an <code>lp</code> then the <code>crank</code> is identical to this. Otherwise <code>crank</code> is calculated as the expectation of the predicted survival distribution. Note that for linear proportional hazards models, the ranking (but not necessarily the <code>crank</code> score itself) given by <code>lp</code> and the expectation of <code>distr</code>, is identical.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="co"># In the previous example, Cox model predicts `lp` so `crank` is identical</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2"></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="kw">all</span>(prediction<span class="op">$</span>lp <span class="op">==</span><span class="st"> </span>prediction<span class="op">$</span>crank)</a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="co">#&gt; [1] TRUE</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5">prediction<span class="op">$</span>lp[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>]</a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="co">#&gt;  [1] -0.69368619 -0.77469379 -1.48992162 -1.02294630  0.10603704  0.35349280</span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="co">#&gt;  [7]  0.19769846 -0.24070498  1.61950353  0.02121054</span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8"></a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="co"># These are evaluated with measures of discrimination and calibration.</span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10"><span class="co"># As all PredictionSurv objects will return crank, Harrell's C is the default measure.</span></a>
<a class="sourceLine" id="cb3-11" data-line-number="11"></a>
<a class="sourceLine" id="cb3-12" data-line-number="12">prediction<span class="op">$</span><span class="kw">score</span>()</a>
<a class="sourceLine" id="cb3-13" data-line-number="13"><span class="co">#&gt; surv.harrellC </span></a>
<a class="sourceLine" id="cb3-14" data-line-number="14"><span class="co">#&gt;     0.7526596</span></a>
<a class="sourceLine" id="cb3-15" data-line-number="15"></a>
<a class="sourceLine" id="cb3-16" data-line-number="16"><span class="co"># distr is evaluated with probabilistic scoring rules.</span></a>
<a class="sourceLine" id="cb3-17" data-line-number="17"></a>
<a class="sourceLine" id="cb3-18" data-line-number="18">measure =<span class="st"> </span><span class="kw">lapply</span>(<span class="kw">c</span>(<span class="st">&quot;surv.graf&quot;</span>, <span class="st">&quot;surv.grafSE&quot;</span>), msr)</a>
<a class="sourceLine" id="cb3-19" data-line-number="19">prediction<span class="op">$</span><span class="kw">score</span>(measure)</a>
<a class="sourceLine" id="cb3-20" data-line-number="20"><span class="co">#&gt;   surv.graf surv.grafSE </span></a>
<a class="sourceLine" id="cb3-21" data-line-number="21"><span class="co">#&gt;   0.1120402   0.0129813</span></a>
<a class="sourceLine" id="cb3-22" data-line-number="22"></a>
<a class="sourceLine" id="cb3-23" data-line-number="23"><span class="co"># Often measures can be integrated over mutliple time-points, or return</span></a>
<a class="sourceLine" id="cb3-24" data-line-number="24"><span class="co"># predictions for single time-points</span></a>
<a class="sourceLine" id="cb3-25" data-line-number="25"></a>
<a class="sourceLine" id="cb3-26" data-line-number="26">measure =<span class="st"> </span><span class="kw">msr</span>(<span class="st">&quot;surv.graf&quot;</span>, <span class="dt">times =</span> <span class="dv">60</span>)</a>
<a class="sourceLine" id="cb3-27" data-line-number="27">prediction<span class="op">$</span><span class="kw">score</span>(measure)</a>
<a class="sourceLine" id="cb3-28" data-line-number="28"><span class="co">#&gt; surv.graf </span></a>
<a class="sourceLine" id="cb3-29" data-line-number="29"><span class="co">#&gt; 0.1457346</span></a></code></pre></div>
<div id="probability-distributions-with-distr6" class="section level3">
<h3>Probability distributions with distr6</h3>
<p>Predicted distributions are implemented in <strong><a href="https://CRAN.R-project.org/package=distr6">distr6</a></strong>, which contains functionality for plotting and further analysis of probability distributions. See <a href="https://alan-turing-institute.github.io/distr6/">here</a> for full tutorials. Briefly we will go over the most important parts for <strong>mlr3proba</strong>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">task =<span class="st"> </span><span class="kw">tgen</span>(<span class="st">&quot;simsurv&quot;</span>)<span class="op">$</span><span class="kw">generate</span>(<span class="dv">20</span>)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">learner =<span class="st"> </span><span class="kw">lrn</span>(<span class="st">&quot;surv.coxph&quot;</span>)</a>
<a class="sourceLine" id="cb4-3" data-line-number="3"></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="co"># In general it is not advised to train/predict on same data</span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"></a>
<a class="sourceLine" id="cb4-6" data-line-number="6">prediction =<span class="st"> </span>learner<span class="op">$</span><span class="kw">train</span>(task)<span class="op">$</span><span class="kw">predict</span>(task)</a>
<a class="sourceLine" id="cb4-7" data-line-number="7"></a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="co"># The predicted `distr` is a VectorDistribution consisting of 20 separate distributions</span></a>
<a class="sourceLine" id="cb4-9" data-line-number="9"></a>
<a class="sourceLine" id="cb4-10" data-line-number="10">prediction<span class="op">$</span>distr</a>
<a class="sourceLine" id="cb4-11" data-line-number="11"><span class="co">#&gt; WeightDisc1 WeightDisc2 ... WeightDisc19 WeightDisc20</span></a>
<a class="sourceLine" id="cb4-12" data-line-number="12"></a>
<a class="sourceLine" id="cb4-13" data-line-number="13"><span class="co"># These can be extracted and queried either invidually...</span></a>
<a class="sourceLine" id="cb4-14" data-line-number="14"></a>
<a class="sourceLine" id="cb4-15" data-line-number="15">prediction<span class="op">$</span>distr[<span class="dv">1</span>]<span class="op">$</span><span class="kw">survival</span>(<span class="dv">60</span><span class="op">:</span><span class="dv">70</span>)</a>
<a class="sourceLine" id="cb4-16" data-line-number="16"><span class="co">#&gt;  [1] 0 0 0 0 0 0 0 0 0 0 0</span></a>
<a class="sourceLine" id="cb4-17" data-line-number="17">prediction<span class="op">$</span>distr[<span class="dv">1</span>]<span class="op">$</span><span class="kw">mean</span>()</a>
<a class="sourceLine" id="cb4-18" data-line-number="18"><span class="co">#&gt; [1] 1.694734</span></a>
<a class="sourceLine" id="cb4-19" data-line-number="19"></a>
<a class="sourceLine" id="cb4-20" data-line-number="20"><span class="co"># ...or together</span></a>
<a class="sourceLine" id="cb4-21" data-line-number="21"></a>
<a class="sourceLine" id="cb4-22" data-line-number="22">prediction<span class="op">$</span>distr<span class="op">$</span><span class="kw">cdf</span>(<span class="dv">60</span>)[,<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>]</a>
<a class="sourceLine" id="cb4-23" data-line-number="23"><span class="co">#&gt;    WeightDisc1 WeightDisc2 WeightDisc3 WeightDisc4 WeightDisc5 WeightDisc6</span></a>
<a class="sourceLine" id="cb4-24" data-line-number="24"><span class="co">#&gt; 1:           1           1           1           1           1           1</span></a>
<a class="sourceLine" id="cb4-25" data-line-number="25"><span class="co">#&gt;    WeightDisc7 WeightDisc8 WeightDisc9 WeightDisc10</span></a>
<a class="sourceLine" id="cb4-26" data-line-number="26"><span class="co">#&gt; 1:           1           1           1            1</span></a>
<a class="sourceLine" id="cb4-27" data-line-number="27">prediction<span class="op">$</span>distr<span class="op">$</span><span class="kw">mean</span>()[,<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>]</a>
<a class="sourceLine" id="cb4-28" data-line-number="28"><span class="co">#&gt;    WeightDisc1 WeightDisc2 WeightDisc3 WeightDisc4 WeightDisc5 WeightDisc6</span></a>
<a class="sourceLine" id="cb4-29" data-line-number="29"><span class="co">#&gt; 1:    1.694734    1.259515    1.490812    1.630679    1.756059    1.724937</span></a>
<a class="sourceLine" id="cb4-30" data-line-number="30"><span class="co">#&gt;    WeightDisc7 WeightDisc8 WeightDisc9 WeightDisc10</span></a>
<a class="sourceLine" id="cb4-31" data-line-number="31"><span class="co">#&gt; 1:    1.680944    1.753342    1.662975     1.696142</span></a>
<a class="sourceLine" id="cb4-32" data-line-number="32"></a>
<a class="sourceLine" id="cb4-33" data-line-number="33"><span class="co"># As well as plotted</span></a>
<a class="sourceLine" id="cb4-34" data-line-number="34"></a>
<a class="sourceLine" id="cb4-35" data-line-number="35"><span class="kw">plot</span>(prediction<span class="op">$</span>distr[<span class="dv">1</span>], <span class="st">&quot;survival&quot;</span>, <span class="dt">main =</span> <span class="st">&quot;First 2 Survival Curves&quot;</span>)</a>
<a class="sourceLine" id="cb4-36" data-line-number="36"><span class="kw">lines</span>(prediction<span class="op">$</span>distr[<span class="dv">2</span>], <span class="st">&quot;survival&quot;</span>, <span class="dt">col =</span> <span class="dv">2</span>)</a></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
</div>
<div id="composition" class="section level2">
<h2>Composition</h2>
<p>Finally we take a look at the <code>PipeOp</code>s implemented in <strong>mlr3proba</strong>, which are used for composition of predict types. For example, if a learner only returns a linear predictor, then <code>PipeOpDistrCompositor</code> can be used to estimate a survival distribution. Or, if a learner returns a <code>distr</code> then <code>PipeOpCrankCompositor</code> can be used to estimate <code>crank</code> from <code>distr</code>. See <strong><a href="https://github.com/mlr-org/mlr3pipelines">mlr3pipelines</a></strong> for full tutorials and details on <code>PipeOp</code>s.</p>
<div id="pipeopdistrcompositor" class="section level3">
<h3>PipeOpDistrCompositor</h3>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw">library</span>(mlr3pipelines)</a>
<a class="sourceLine" id="cb5-2" data-line-number="2"></a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="co"># PipeOpDistrCompositor - Train one model with a baseline distribution,</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="co"># (Kaplan-Meier or Nelson-Aalen), and another with a predicted linear predictor.</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5">task =<span class="st"> </span><span class="kw">tgen</span>(<span class="st">&quot;simsurv&quot;</span>)<span class="op">$</span><span class="kw">generate</span>(<span class="dv">30</span>)</a>
<a class="sourceLine" id="cb5-6" data-line-number="6">leaner_lp =<span class="st"> </span><span class="kw">lrn</span>(<span class="st">&quot;surv.gbm&quot;</span>, <span class="dt">bag.fraction =</span> <span class="dv">1</span>, <span class="dt">n.trees =</span> 50L)</a>
<a class="sourceLine" id="cb5-7" data-line-number="7">leaner_distr =<span class="st"> </span><span class="kw">lrn</span>(<span class="st">&quot;surv.kaplan&quot;</span>)</a>
<a class="sourceLine" id="cb5-8" data-line-number="8">prediction_lp =<span class="st"> </span>leaner_lp<span class="op">$</span><span class="kw">train</span>(task)<span class="op">$</span><span class="kw">predict</span>(task)</a>
<a class="sourceLine" id="cb5-9" data-line-number="9">prediction_distr =<span class="st"> </span>leaner_distr<span class="op">$</span><span class="kw">train</span>(task)<span class="op">$</span><span class="kw">predict</span>(task)</a>
<a class="sourceLine" id="cb5-10" data-line-number="10">prediction_lp<span class="op">$</span>distr</a>
<a class="sourceLine" id="cb5-11" data-line-number="11"><span class="co">#&gt; NULL</span></a>
<a class="sourceLine" id="cb5-12" data-line-number="12"></a>
<a class="sourceLine" id="cb5-13" data-line-number="13"><span class="co"># Doesn't need training. Base = baseline distribution. ph = Proportional hazards.</span></a>
<a class="sourceLine" id="cb5-14" data-line-number="14"></a>
<a class="sourceLine" id="cb5-15" data-line-number="15">pod =<span class="st"> </span><span class="kw">po</span>(<span class="st">&quot;distrcompose&quot;</span>, <span class="dt">param_vals =</span> <span class="kw">list</span>(<span class="dt">form =</span> <span class="st">&quot;ph&quot;</span>, <span class="dt">overwrite =</span> <span class="ot">FALSE</span>))</a>
<a class="sourceLine" id="cb5-16" data-line-number="16">prediction =<span class="st"> </span>pod<span class="op">$</span><span class="kw">predict</span>(<span class="kw">list</span>(<span class="dt">base =</span> prediction_distr, <span class="dt">pred =</span> prediction_lp))<span class="op">$</span>output</a>
<a class="sourceLine" id="cb5-17" data-line-number="17"></a>
<a class="sourceLine" id="cb5-18" data-line-number="18"><span class="co"># Now we have a predicted distr!</span></a>
<a class="sourceLine" id="cb5-19" data-line-number="19"></a>
<a class="sourceLine" id="cb5-20" data-line-number="20">prediction<span class="op">$</span>distr</a>
<a class="sourceLine" id="cb5-21" data-line-number="21"><span class="co">#&gt; WeightDisc1 WeightDisc2 ... WeightDisc29 WeightDisc30</span></a>
<a class="sourceLine" id="cb5-22" data-line-number="22"></a>
<a class="sourceLine" id="cb5-23" data-line-number="23"><span class="co"># This can all be simplified by using the distrcompose wrapper</span></a>
<a class="sourceLine" id="cb5-24" data-line-number="24"></a>
<a class="sourceLine" id="cb5-25" data-line-number="25">gbm.distr =<span class="st"> </span><span class="kw">distrcompositor</span>(<span class="dt">learner =</span> <span class="kw">lrn</span>(<span class="st">&quot;surv.gbm&quot;</span>, <span class="dt">bag.fraction =</span> <span class="dv">1</span>, <span class="dt">n.trees =</span> 50L),</a>
<a class="sourceLine" id="cb5-26" data-line-number="26">                             <span class="dt">estimator =</span> <span class="st">&quot;kaplan&quot;</span>,</a>
<a class="sourceLine" id="cb5-27" data-line-number="27">                             <span class="dt">form =</span> <span class="st">&quot;aft&quot;</span>,</a>
<a class="sourceLine" id="cb5-28" data-line-number="28">                             <span class="dt">overwrite =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb5-29" data-line-number="29">gbm.distr<span class="op">$</span><span class="kw">train</span>(task)<span class="op">$</span><span class="kw">predict</span>(task)</a>
<a class="sourceLine" id="cb5-30" data-line-number="30"><span class="co">#&gt; &lt;PredictionSurv&gt; for 30 observations:</span></a>
<a class="sourceLine" id="cb5-31" data-line-number="31"><span class="co">#&gt;     row_id     time status       crank                distr          lp</span></a>
<a class="sourceLine" id="cb5-32" data-line-number="32"><span class="co">#&gt;          1 5.000000  FALSE -0.19367047 &lt;VectorDistribution&gt; -0.19367047</span></a>
<a class="sourceLine" id="cb5-33" data-line-number="33"><span class="co">#&gt;          2 3.568860   TRUE -0.66748168 &lt;VectorDistribution&gt; -0.66748168</span></a>
<a class="sourceLine" id="cb5-34" data-line-number="34"><span class="co">#&gt;          3 1.128017   TRUE -0.05205574 &lt;VectorDistribution&gt; -0.05205574</span></a>
<a class="sourceLine" id="cb5-35" data-line-number="35"><span class="co">#&gt; ---                                                                    </span></a>
<a class="sourceLine" id="cb5-36" data-line-number="36"><span class="co">#&gt;         28 1.635774   TRUE -0.17106619 &lt;VectorDistribution&gt; -0.17106619</span></a>
<a class="sourceLine" id="cb5-37" data-line-number="37"><span class="co">#&gt;         29 5.000000  FALSE -0.47381121 &lt;VectorDistribution&gt; -0.47381121</span></a>
<a class="sourceLine" id="cb5-38" data-line-number="38"><span class="co">#&gt;         30 3.155294   TRUE -0.66748168 &lt;VectorDistribution&gt; -0.66748168</span></a></code></pre></div>
</div>
<div id="pipeopcrankcompositor" class="section level3">
<h3>PipeOpCrankCompositor</h3>
<p>Note that a <code>PredictionSurv</code> will always return <code>crank</code>, but this may either be the same as the <code>lp</code> or the expectation of <code>distr</code>. This compositor allows you to change the estimation method.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="co"># PipeOpCrankCompositor - Only one model required.</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2">leaner =<span class="st"> </span><span class="kw">lrn</span>(<span class="st">&quot;surv.coxph&quot;</span>)</a>
<a class="sourceLine" id="cb6-3" data-line-number="3">prediction =<span class="st"> </span>leaner<span class="op">$</span><span class="kw">train</span>(task)<span class="op">$</span><span class="kw">predict</span>(task)</a>
<a class="sourceLine" id="cb6-4" data-line-number="4"></a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="co"># Doesn't need training - Note: no `overwrite` option as `crank` is always</span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6"><span class="co"># present so the compositor if used will always overwrite.</span></a>
<a class="sourceLine" id="cb6-7" data-line-number="7"></a>
<a class="sourceLine" id="cb6-8" data-line-number="8">poc =<span class="st"> </span><span class="kw">po</span>(<span class="st">&quot;crankcompose&quot;</span>, <span class="dt">param_vals =</span> <span class="kw">list</span>(<span class="dt">method =</span> <span class="st">&quot;mean&quot;</span>))</a>
<a class="sourceLine" id="cb6-9" data-line-number="9">composed_prediction =<span class="st"> </span>poc<span class="op">$</span><span class="kw">predict</span>(<span class="kw">list</span>(prediction))<span class="op">$</span>output</a>
<a class="sourceLine" id="cb6-10" data-line-number="10"></a>
<a class="sourceLine" id="cb6-11" data-line-number="11"><span class="co"># Note that whilst the actual values of `lp` and `crank` are different,</span></a>
<a class="sourceLine" id="cb6-12" data-line-number="12"><span class="co"># the rankings are the same, so discrimination measures are unchanged.</span></a>
<a class="sourceLine" id="cb6-13" data-line-number="13"></a>
<a class="sourceLine" id="cb6-14" data-line-number="14">prediction<span class="op">$</span>crank[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>]</a>
<a class="sourceLine" id="cb6-15" data-line-number="15"><span class="co">#&gt;  [1]  0.19248733 -0.43871848  0.39422978  0.24340349 -0.20020759  0.15094767</span></a>
<a class="sourceLine" id="cb6-16" data-line-number="16"><span class="co">#&gt;  [7]  0.60484819 -0.56638731  0.01629422  0.42356422</span></a>
<a class="sourceLine" id="cb6-17" data-line-number="17">composed_prediction<span class="op">$</span>crank[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>]</a>
<a class="sourceLine" id="cb6-18" data-line-number="18"><span class="co">#&gt;  [1] 1.6122990 1.0944552 1.7651577 1.6525095 1.2873051 1.5788921 1.8987710</span></a>
<a class="sourceLine" id="cb6-19" data-line-number="19"><span class="co">#&gt;  [8] 0.9969524 1.4680414 1.7856538</span></a>
<a class="sourceLine" id="cb6-20" data-line-number="20"><span class="kw">all</span>(<span class="kw">order</span>(prediction<span class="op">$</span>crank) <span class="op">==</span><span class="st"> </span><span class="kw">order</span>(composed_prediction<span class="op">$</span>crank))</a>
<a class="sourceLine" id="cb6-21" data-line-number="21"><span class="co">#&gt; [1] TRUE</span></a>
<a class="sourceLine" id="cb6-22" data-line-number="22"><span class="kw">cbind</span>(<span class="dt">Original =</span> prediction<span class="op">$</span><span class="kw">score</span>(), <span class="dt">Composed =</span> composed_prediction<span class="op">$</span><span class="kw">score</span>())</a>
<a class="sourceLine" id="cb6-23" data-line-number="23"><span class="co">#&gt;                Original  Composed</span></a>
<a class="sourceLine" id="cb6-24" data-line-number="24"><span class="co">#&gt; surv.harrellC 0.5854342 0.5854342</span></a>
<a class="sourceLine" id="cb6-25" data-line-number="25"></a>
<a class="sourceLine" id="cb6-26" data-line-number="26"><span class="co"># Again a wrapper can be used to simplify this</span></a>
<a class="sourceLine" id="cb6-27" data-line-number="27"><span class="kw">crankcompositor</span>(<span class="kw">lrn</span>(<span class="st">&quot;surv.coxph&quot;</span>), <span class="dt">method =</span> <span class="st">&quot;mean&quot;</span>)<span class="op">$</span><span class="kw">train</span>(task)<span class="op">$</span><span class="kw">predict</span>(task)</a>
<a class="sourceLine" id="cb6-28" data-line-number="28"><span class="co">#&gt; &lt;PredictionSurv&gt; for 30 observations:</span></a>
<a class="sourceLine" id="cb6-29" data-line-number="29"><span class="co">#&gt;     row_id     time status    crank                distr          lp</span></a>
<a class="sourceLine" id="cb6-30" data-line-number="30"><span class="co">#&gt;          1 5.000000  FALSE 1.612299 &lt;VectorDistribution&gt;  0.19248733</span></a>
<a class="sourceLine" id="cb6-31" data-line-number="31"><span class="co">#&gt;          2 3.568860   TRUE 1.094455 &lt;VectorDistribution&gt; -0.43871848</span></a>
<a class="sourceLine" id="cb6-32" data-line-number="32"><span class="co">#&gt;          3 1.128017   TRUE 1.765158 &lt;VectorDistribution&gt;  0.39422978</span></a>
<a class="sourceLine" id="cb6-33" data-line-number="33"><span class="co">#&gt; ---                                                                 </span></a>
<a class="sourceLine" id="cb6-34" data-line-number="34"><span class="co">#&gt;         28 1.635774   TRUE 1.232586 &lt;VectorDistribution&gt; -0.26655353</span></a>
<a class="sourceLine" id="cb6-35" data-line-number="35"><span class="co">#&gt;         29 5.000000  FALSE 1.436710 &lt;VectorDistribution&gt; -0.02125514</span></a>
<a class="sourceLine" id="cb6-36" data-line-number="36"><span class="co">#&gt;         30 3.155294   TRUE 1.073284 &lt;VectorDistribution&gt; -0.46592203</span></a></code></pre></div>
</div>
</div>
<div id="all-together-now" class="section level2">
<h2>All Together Now</h2>
<p>Putting all of this together we can perform a (overly simplified) benchmark experiment to find the best learner for making predictions on a simulated dataset.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw">library</span>(mlr3pipelines); <span class="kw">library</span>(mlr3); <span class="kw">library</span>(mlr3tuning); <span class="kw">library</span>(paradox)</a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="kw">set.seed</span>(<span class="dv">42</span>)</a>
<a class="sourceLine" id="cb7-3" data-line-number="3"></a>
<a class="sourceLine" id="cb7-4" data-line-number="4">task =<span class="st"> </span><span class="kw">tgen</span>(<span class="st">&quot;simsurv&quot;</span>)<span class="op">$</span><span class="kw">generate</span>(<span class="dv">50</span>)</a>
<a class="sourceLine" id="cb7-5" data-line-number="5"></a>
<a class="sourceLine" id="cb7-6" data-line-number="6">composed_lrn_gbm =<span class="st"> </span><span class="kw">distrcompositor</span>(<span class="kw">lrn</span>(<span class="st">&quot;surv.gbm&quot;</span>, <span class="dt">bag.fraction =</span> <span class="dv">1</span>, <span class="dt">n.trees =</span> 50L),</a>
<a class="sourceLine" id="cb7-7" data-line-number="7">                                   <span class="st">&quot;kaplan&quot;</span>, <span class="st">&quot;ph&quot;</span>)</a>
<a class="sourceLine" id="cb7-8" data-line-number="8"></a>
<a class="sourceLine" id="cb7-9" data-line-number="9">lrns =<span class="st"> </span><span class="kw">lapply</span>(<span class="kw">paste0</span>(<span class="st">&quot;surv.&quot;</span>, <span class="kw">c</span>(<span class="st">&quot;kaplan&quot;</span>, <span class="st">&quot;coxph&quot;</span>)), lrn)</a>
<a class="sourceLine" id="cb7-10" data-line-number="10"></a>
<a class="sourceLine" id="cb7-11" data-line-number="11">design =<span class="st"> </span><span class="kw">benchmark_grid</span>(<span class="dt">tasks =</span> task, <span class="dt">learners =</span> <span class="kw">c</span>(lrns, <span class="kw">list</span>(composed_lrn_gbm)),</a>
<a class="sourceLine" id="cb7-12" data-line-number="12">                        <span class="dt">resamplings =</span> <span class="kw">rsmp</span>(<span class="st">&quot;cv&quot;</span>, <span class="dt">folds =</span> <span class="dv">2</span>))</a>
<a class="sourceLine" id="cb7-13" data-line-number="13"></a>
<a class="sourceLine" id="cb7-14" data-line-number="14">bm =<span class="st"> </span><span class="kw">benchmark</span>(design)</a>
<a class="sourceLine" id="cb7-15" data-line-number="15">bm<span class="op">$</span><span class="kw">aggregate</span>(<span class="kw">lapply</span>(<span class="kw">c</span>(<span class="st">&quot;surv.harrellC&quot;</span>,<span class="st">&quot;surv.graf&quot;</span>,<span class="st">&quot;surv.grafSE&quot;</span>), msr))[,<span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">7</span><span class="op">:</span><span class="dv">9</span>)]</a>
<a class="sourceLine" id="cb7-16" data-line-number="16"><span class="co">#&gt;                           learner_id surv.harrellC surv.graf surv.grafSE</span></a>
<a class="sourceLine" id="cb7-17" data-line-number="17"><span class="co">#&gt; 1:                       surv.kaplan     0.5000000 0.2107141  0.02003976</span></a>
<a class="sourceLine" id="cb7-18" data-line-number="18"><span class="co">#&gt; 2:                        surv.coxph     0.5003190 0.2259178  0.03210873</span></a>
<a class="sourceLine" id="cb7-19" data-line-number="19"><span class="co">#&gt; 3: surv.kaplan.surv.gbm.distrcompose     0.4811204 0.2774313  0.04296744</span></a></code></pre></div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
